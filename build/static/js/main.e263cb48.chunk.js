(this["webpackJsonpshopping-site"]=this["webpackJsonpshopping-site"]||[]).push([[0],{39:function(e,t,a){e.exports=a(79)},44:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){},55:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){},77:function(e,t,a){},79:function(e,t,a){"use strict";a.r(t);var n,r=a(0),o=a.n(r),l=a(20),s=a.n(l),c=(a(44),a(45),a(46),function(){return o.a.createElement("div",{className:"FooterComp"},"All rights reserved")}),i=a(3),u=a(4),m=a(7),d=a(6),p=(a(47),a(10)),f=a(5),h=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleChange=function(t){console.log("search term.....",t.target.value),e.props.searchProduct(t.target.value)},e}return Object(u.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"HeaderComp"},o.a.createElement(p.b,{to:"/"},"Indian Shopping Store"),o.a.createElement("div",{style:{width:"53%"}},o.a.createElement("input",{placeholder:"Search Product",onChange:this.handleChange})),this.props.userInfo.name?o.a.createElement(p.b,{to:"/"},o.a.createElement("div",{onClick:this.props.signOutUser},"Sign Out")):o.a.createElement(p.b,{to:"/sign-in"},o.a.createElement("div",null,"Sign In")),o.a.createElement(p.b,{to:"/cart"},o.a.createElement("div",null,"Cart",o.a.createElement("span",{className:"addToCartBubble"},this.props.CartItemsTotal))))}}]),a}(o.a.Component),g=Object(f.b)((function(e){return{CartItemsTotal:e.CartItemsTotal,userInfo:e.userInfo}}),(function(e){return{signOutUser:function(){return e({type:"SIGN_OUT"})},searchProduct:function(t){return e({type:"SEARCH_PRODUCT",value:t})}}}))(h),E=(a(53),a(54),function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement("i",{className:e.ratingStar>=1?"fa fa-star":.5===e.ratingStar?"fa fa-star-half-o":"fa fa-star-o"}),o.a.createElement("i",{className:e.ratingStar>=2?"fa fa-star":1.5===e.ratingStar?"fa fa-star-half-o":"fa fa-star-o"}),o.a.createElement("i",{className:e.ratingStar>=3?"fa fa-star":2.5===e.ratingStar?"fa fa-star-half-o":"fa fa-star-o"}),o.a.createElement("i",{className:e.ratingStar>=4?"fa fa-star":3.5===e.ratingStar?"fa fa-star-half-o":"fa fa-star-o"}),o.a.createElement("i",{className:e.ratingStar>=5?"fa fa-star":4.5===e.ratingStar?"fa fa-star-half-o":"fa fa-star-o"}))}),v=function(e){var t=e.prodData,a=t.id,n=t.img,r=t.name,l=t.price,s=t.rating,c=t.numReviews;return o.a.createElement(p.b,{style:{textDecoration:"none"},to:"/".concat(a)},o.a.createElement("div",{className:"ProdTile"},o.a.createElement("img",{src:n,alt:"not found"}),o.a.createElement("div",{style:{fontWeight:"bold"}},r),o.a.createElement(E,{ratingStar:s}),o.a.createElement("span",{className:"reviewTxt"},"(",c," reviews)"),o.a.createElement("div",null,l+"$")))},b=(a(55),a(13)),C=a(15),I=a.n(C),S=function(){return function(e){I.a.get("https://shopping-site-online.herokuapp.com/Products").then((function(t){var a=t.data;e(function(e){return{type:"GET_PRODUCTS",value:e}}(a))})).catch((function(e){console.log("error found",e)}))}},O=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.props.getAllProducts()}},{key:"render",value:function(){var e,t=this;return this.props.Products&&(e=this.props.Products.filter((function(e){return-1!==e.name.toLowerCase().indexOf(t.props.SearchTerm)}))),o.a.createElement("div",{className:"ProdList"},e&&e.map((function(e,t){return o.a.createElement(v,{prodData:e,key:e.id})})))}}]),a}(o.a.Component),N=Object(f.b)((function(e){return{Products:e.Products,SearchTerm:e.SearchTerm}}),(function(e){return{getAllProducts:function(){return e(S())}}}))(O),T=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(g,null),o.a.createElement(N,null),o.a.createElement(c,null))},y=a(2),j=(a(73),a(74),function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).handlechange=function(e){n.setState({selectedVal:e.target.value}),n.props.selectSize&&n.props.selectSize(e.target.value)},n.state={selectedVal:"S"},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.props.selectedCartSize&&this.setState({selectedVal:this.props.selectedCartSize})}},{key:"render",value:function(){return console.log("value changed...!!!",this.state.selectedVal),o.a.createElement("div",null,o.a.createElement("b",null,"Size:"),o.a.createElement("select",{value:this.state.selectedVal,onChange:this.handlechange},o.a.createElement("option",{value:"S"},"S"),o.a.createElement("option",{value:"M"},"M"),o.a.createElement("option",{value:"L"},"L"),o.a.createElement("option",{value:"XL"},"XL")))}}]),a}(o.a.Component)),P=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).getSize=function(e){console.log("getsize...!!!11",e),n=e},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.props.getAllProducts()}},{key:"render",value:function(){var e=this;n="S";var t=Number(window.location.pathname.split("/")[1])-1,a=this.props.Products?this.props.Products[t]:null;return console.log("CartItems=>",this.props.CartItems,this.props.Products),console.log("render---\x3e11",t),this.props.Products&&o.a.createElement("div",{className:"ProductDetailsComp"},o.a.createElement(p.b,{to:"/"},"Back to Results"),console.log("currentProductData===>",a),o.a.createElement("div",{className:"ProductDetailsContainer"},o.a.createElement("img",{src:a.img,alt:"not found"}),o.a.createElement("div",{style:{width:"65%"}},o.a.createElement("div",{className:"prod-name"},a.name),o.a.createElement(E,{ratingStar:a.rating}),o.a.createElement("span",{className:"reviewTxt"},"(",a.numReviews," reviews)"),o.a.createElement("br",null),o.a.createElement("b",null,"Price: "),o.a.createElement("div",{className:"prod-price"},a.price,"$"),o.a.createElement(j,{selectSize:this.getSize}),o.a.createElement("div",{className:"prod-description"},o.a.createElement("b",null,"Description:"),o.a.createElement("br",null),a.description)),o.a.createElement("div",{className:"button-box"},"To buy, ",o.a.createElement("span",{style:{color:"red"}},"Sign in")," and Select size:",o.a.createElement("br",null),o.a.createElement("button",{onClick:function(){return e.props.addToCart(e.props.Products[t],e.props.CartItems,n,e.props.useremailId)},className:this.props.useremailId?null:"disabled"},"Add To Cart"))))}}]),a}(o.a.Component),w=Object(f.b)((function(e){return{Products:e.Products,CartItems:e.CartItems,useremailId:e.userInfo.email}}),(function(e){return{getAllProducts:function(){return e(S())},addToCart:function(t,a,n,r){return e(function(e,t,a,n){console.log("add to cart===>",e,t,a,n);var r=(t=t||[]).concat(e);return r[r.length-1].size=a,console.log("cartItems===>addToCart",r),function(e){I.a.patch("https://shopping-site-online.herokuapp.com/updateCart/"+n,r).then((function(t){console.log("user validated",t),200===t.status&&e({type:"ADD_TO_CART",value:r})})).catch((function(e){console.log("sign in err==>",e)}))}}(t,a,n,r))}}}))(P),k=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(g,null),o.a.createElement(w,null),o.a.createElement(c,null))},D=(a(75),a(37)),A=a.n(D),_=0,R=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var e=this;console.log("CartItemsTotal==>shopping cart",this.props.CartItemsTotal);var t=this.props.CartItems;return console.log("REACT_APP_KEY===>","pk_test_51H6brZJAxfdPmQO8YzGIQyP7Q15jCg4hd0e5PFwA1OzTg2jM2drSUYoAT54sDWaXKfaSvDw4Dnqoi0GohF51G8sN00vYuWvH8U"),_=0,o.a.createElement("div",{className:"cart-wrapper"},o.a.createElement("div",{style:{width:"70%"}},o.a.createElement("div",{className:"cart-name"},"Shopping Cart"),t.map((function(a,n){return _+=a.price,o.a.createElement("div",{className:"cart-item",key:a.id},o.a.createElement("img",{src:a.img,alt:"not found"}),o.a.createElement("div",{className:"cart-details"},o.a.createElement("div",null,a.name),o.a.createElement(j,{selectedCartSize:a.size}),o.a.createElement("button",{onClick:function(){return e.props.removeFromCart(a.id,t,e.props.userId)}},"Delete")),o.a.createElement("div",null,a.price," $"))})),0===this.props.CartItemsTotal?o.a.createElement("div",{className:"empty-cart"}," Your Shopping Cart is Empty."):null),o.a.createElement("div",{className:"box-container"},"Total Price: ",Math.round(_)," $",o.a.createElement("br",null),o.a.createElement(A.a,{stripeKey:"pk_test_51H6brZJAxfdPmQO8YzGIQyP7Q15jCg4hd0e5PFwA1OzTg2jM2drSUYoAT54sDWaXKfaSvDw4Dnqoi0GohF51G8sN00vYuWvH8U",token:function(t){var a={token:t,product:{name:"cloth order",price:_}};return I.a.post("https://shopping-site-online.herokuapp.com/payment",a).then((function(t){console.log("response===>",t),200===t.status&&(_=0,e.props.emptyCart(e.props.userId))})).catch((function(e){console.log("err====>",e)}))},name:"Proceed to Checkout",amount:100*Math.round(_),shippingAddress:!0,billingAddress:!0},o.a.createElement("button",{className:_>0?null:"disabled"},"Proceed to Checkout"))))}}]),a}(o.a.Component),x=Object(f.b)((function(e){return{CartItems:e.CartItems,Products:e.Products,CartItemsTotal:e.CartItemsTotal,userId:e.userInfo.email}}),(function(e){return{removeFromCart:function(t,a,n){return e(function(e,t,a){return console.log("remove from cart===>",e,t,a),t=t.filter((function(t){return t.id!==e})),console.log("cartItems===>removefromCart",t),function(e){I.a.patch("https://shopping-site-online.herokuapp.com/updateCart/"+a,t).then((function(a){200===a.status&&e({type:"REMOVE_FROM_CART",value:t})})).catch((function(e){console.log("sign in err==>",e)}))}}(t,a,n))},emptyCart:function(t){return e(function(e){var t=[];return console.log("cartItems===>empty Cart",t),function(a){I.a.patch("https://shopping-site-online.herokuapp.com/updateCart/"+e,t).then((function(e){200===e.status&&a({type:"EMPTY_CART"})})).catch((function(e){console.log("sign in err==>",e)}))}}(t))}}}))(R),F=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(g,null),o.a.createElement(x,null),o.a.createElement(c,null))},U=a(17),z=(a(76),function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).handleChange=function(e){console.log("value changed...!",e.target.name,e.target.value),n.setState({userInfo:Object(b.a)(Object(b.a)({},n.state.userInfo),{},Object(U.a)({},e.target.name,e.target.value))})},n.onFormSubmit=function(){console.log("sign in form submitted...$",n.state.userInfo),n.props.signIn(n.state.userInfo),n.setState({submitted:!0})},n.state={userInfo:{email:"",password:""},submitted:!1},n}return Object(u.a)(a,[{key:"render",value:function(){console.log("sign in data---\x3e",this.props.userInfo);var e=this.state.userInfo,t=e.email,a=e.password;return o.a.createElement("div",{className:"login-modal-backdrop"},o.a.createElement("div",{className:"login-modal"},o.a.createElement("div",{className:"login-caption"},"Sign-In"),"Email ID:",o.a.createElement("br",null),o.a.createElement("input",{name:"email",value:t,placeholder:"Enter your email ID...",onChange:this.handleChange}),o.a.createElement("br",null),!t&&this.state.submitted?o.a.createElement("div",{className:"text-danger"},"Email is required !!!"):null,"Password:",o.a.createElement("br",null),o.a.createElement("input",{name:"password",value:a,type:"password",placeholder:"Enter your password...",onChange:this.handleChange}),!a&&this.state.submitted?o.a.createElement("div",{className:"text-danger"},"Password is required !!!"):null,this.props.userInfo.name&&this.state.submitted?o.a.createElement(y.a,{push:!0,to:"/"}):null,o.a.createElement("button",{className:"sign-in",onClick:this.onFormSubmit},"Signin"),this.props.userInfo.signInResponse?o.a.createElement("div",{className:"text-danger"},this.props.userInfo.signInResponse):null,"New to Indian Shopping Store?",o.a.createElement(p.b,{to:"/register"},o.a.createElement("button",{className:"create-account"},"Create Your Account"))))}}]),a}(o.a.Component)),M=Object(f.b)((function(e){return{userInfo:e.userInfo}}),(function(e){return{signIn:function(t){return e((a=t,console.log("signin data===>",a),function(e){I.a.post("https://shopping-site-online.herokuapp.com/validateUser",a).then((function(t){console.log("user validated",t.data),e(function(e){return{type:"SIGN_IN",value:{email:e.email,name:e.name,password:e.password,cartItems:e.cartItems,signInResponse:e.message}}}(t.data))})).catch((function(e){console.log("sign in err==>",e)}))}));var a}}}))(z),G=function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement(g,null),o.a.createElement(M,null),o.a.createElement(c,null))},Y=(a(77),function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).handleChange=function(e){console.log("value changed...!",e.target.name,e.target.value),n.setState({userInfo:Object(b.a)(Object(b.a)({},n.state.userInfo),{},Object(U.a)({},e.target.name,e.target.value))})},n.onFormSubmit=function(){console.log("form submitted...$"),n.props.addnewUser(n.state.userInfo),n.setState({submitted:!0})},n.state={userInfo:{name:"",email:"",password:""},submitted:!1},n}return Object(u.a)(a,[{key:"render",value:function(){console.log(this.state.userInfo,"userinfo---\x3e");var e=this.state.userInfo,t=e.name,a=e.email,n=e.password;return o.a.createElement("div",{className:"login-modal-backdrop"},o.a.createElement("div",{className:"login-modal"},o.a.createElement("div",{className:"login-caption"},"Create Account"),"Name:",o.a.createElement("br",null),o.a.createElement("input",{name:"name",value:t,placeholder:"Enter your name...",onChange:this.handleChange}),o.a.createElement("br",null),!t&&this.state.submitted?o.a.createElement("div",{className:"text-danger"},"Name is required !!!"):null,"Email ID:",o.a.createElement("br",null),o.a.createElement("input",{name:"email",value:a,placeholder:"Enter your email ID...",onChange:this.handleChange}),o.a.createElement("br",null),!a&&this.state.submitted?o.a.createElement("div",{className:"text-danger"},"Email is required !!!"):null,"Password:",o.a.createElement("br",null),o.a.createElement("input",{name:"password",value:n,type:"password",placeholder:"Enter your password...",onChange:this.handleChange}),!n&&this.state.submitted?o.a.createElement("div",{className:"text-danger"},"Password is required !!!"):null,this.props.userInfo.name&&this.state.submitted?o.a.createElement(y.a,{push:!0,to:"/"}):null,o.a.createElement("button",{className:"register",onClick:this.onFormSubmit,value:"Register"},"Register")))}}]),a}(o.a.Component)),q=Object(f.b)((function(e){return{userInfo:e.userInfo}}),(function(e,t){return{addnewUser:function(t){e(function(e){console.log("userdata===>",e);var t=Object(b.a)(Object(b.a)({},e),{},{_id:e.email,cartItems:{}});return function(a){I.a.post("https://shopping-site-online.herokuapp.com/storeUserData",t).then((function(t){console.log("data is saved",t),a(function(e){return{type:"ADD_NEW_USER",value:e}}(e))}))}}(t))}}}))(Y),H=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(g,null),o.a.createElement(q,null),o.a.createElement(c,null))};var V=function(){return o.a.createElement(p.a,null,o.a.createElement(y.d,null,o.a.createElement(y.b,{exact:!0,path:"/",component:T}),o.a.createElement(y.b,{exact:!0,path:"/cart",component:F}),o.a.createElement(y.b,{exact:!0,path:"/sign-in",component:G}),o.a.createElement(y.b,{exact:!0,path:"/register",component:H}),o.a.createElement(y.b,{exact:!0,path:"/:id",component:k})))},W=a(19),L=(a(78),{Products:null,CartItems:[],CartItemsTotal:0,SearchTerm:"",userInfo:{name:"",email:"",password:""}}),Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0,a=Object(b.a)({},e);switch(t.type){case"GET_PRODUCTS":a.Products=t.value;break;case"ADD_TO_CART":console.log("added to cart!!!",t.value),a.CartItems=t.value,a.CartItemsTotal=a.CartItems.length;break;case"REMOVE_FROM_CART":console.log("removed from cart!!!",t.value),a.CartItems=t.value,a.CartItemsTotal=a.CartItems.length;break;case"ADD_NEW_USER":console.log("new user added!!!",t.value),a.userInfo=t.value;break;case"SIGN_IN":console.log("sign in !!!",t.value),a.userInfo=t.value,a.CartItems=t.value.cartItems,a.CartItemsTotal=a.CartItems?a.CartItems.length:0;break;case"SIGN_OUT":console.log("Sign out!!!"),a.userInfo=Object(b.a)({},L.userInfo),a.CartItems=[],a.CartItemsTotal=0;break;case"EMPTY_CART":a.CartItems=[],a.CartItemsTotal=0;break;case"SEARCH_PRODUCT":a.SearchTerm=t.value;break;default:console.log("in default...!")}return console.log("newstate====>",a),a},$=a(38),J=Object(W.c)(Q,Object(W.a)($.a));s.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(f.a,{store:J},o.a.createElement(V,null))),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.e263cb48.chunk.js.map